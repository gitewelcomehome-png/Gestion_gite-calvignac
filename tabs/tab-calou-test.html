<div class="tab-container">
    <!-- ‚ö†Ô∏è TAB DE TEST CALOU - NE PAS UTILISER EN PRODUCTION -->
    
    <!-- Charger le syst√®me d'ic√¥nes CALOU -->
    <script>
        // Injecter les ic√¥nes CALOU si pas d√©j√† fait
        if (!document.getElementById('calou-icons-sprite')) {
            const script = document.createElement('script');
            script.src = 'js/calou-icons.js';
            document.head.appendChild(script);
        }
    </script>
    
    <!-- Toggle CALOU Theme -->
    <div class="calou-card calou-p-6 calou-mb-8">
        <div class="calou-flex calou-items-center calou-justify-between calou-flex-wrap calou-gap-4">
            <div>
                <h2 class="calou-text-lg calou-font-extrabold calou-m-0">
                    <i data-calou-icon="logo-wolf-alpha" data-size="lg" class="calou-icon-spaced"></i>
                    Test CALOU Design System
                </h2>
                <p class="calou-text-sm calou-opacity-60 calou-m-0 calou-mt-2">Activer/d√©sactiver le th√®me CALOU avec syst√®me d'ic√¥nes</p>
            </div>
            <button onclick="toggleCalouTheme()" class="calou-btn-primary">
                <span id="theme-toggle-text">Activer CALOU</span>
            </button>
        </div>
    </div>

    <!-- KPI Cards -->
    <div class="calou-grid calou-grid-cols-1 calou-md-grid-cols-3 calou-gap-6 calou-mb-12">
        <div class="calou-card calou-kpi">
            <p class="calou-kpi-label">URSSAF (Estim√©)</p>
            <h3 class="calou-kpi-value">1 200 ‚Ç¨</h3>
            <div class="calou-kpi-progress">
                <div class="calou-kpi-progress-bar" style="width: 33%"></div>
            </div>
        </div>

        <div class="calou-card calou-kpi calou-card-success">
            <p class="calou-kpi-label">CA 2026</p>
            <h3 class="calou-kpi-value calou-kpi-value-success">12 450 ‚Ç¨</h3>
            <p class="calou-kpi-meta">+15% vs mois dernier</p>
        </div>

        <div class="calou-card calou-kpi calou-card-info">
            <p class="calou-kpi-label calou-text-accent">Net R√©el</p>
            <h3 class="calou-kpi-value">8 950 ‚Ç¨</h3>
            <p class="calou-kpi-meta calou-opacity-40 calou-mt-4 calou-uppercase">Calcul√© apr√®s charges</p>
        </div>
    </div>

    <!-- Main Content Grid -->
    <div class="calou-grid calou-grid-cols-1 calou-lg-grid-cols-3 calou-gap-8">
        <!-- Missions Prioritaires -->
        <div class="calou-lg-col-span-2" style="display: flex; flex-direction: column; gap: 1rem;">
            <h2 class="calou-section-title">Missions Prioritaires</h2>
            
            <div class="calou-card calou-mission-card">
                <div class="calou-mission-info">
                    <div class="calou-mission-icon">üê∫</div>
                    <div class="calou-mission-details">
                        <h3>DUPONT <span class="calou-text-xs calou-font-normal calou-opacity-40">Tr√©voux</span></h3>
                        <p class="calou-mission-meta calou-mission-meta-info">Sortie pr√©vue : 28/01 ‚Ä¢ Pr√©parer m√©nage</p>
                    </div>
                </div>
                <button class="calou-btn-primary">D√©tails</button>
            </div>

            <div class="calou-card calou-mission-card">
                <div class="calou-mission-info">
                    <div class="calou-mission-icon">üè°</div>
                    <div class="calou-mission-details">
                        <h3>MARTIN <span class="calou-text-xs calou-font-normal calou-opacity-40">Calvignac</span></h3>
                        <p class="calou-mission-meta calou-mission-meta-success">Arriv√©e : 01/02 ‚Ä¢ 4 nuits confirm√©es</p>
                    </div>
                </div>
                <button class="calou-btn-primary">D√©tails</button>
            </div>

            <!-- Actions Rapides -->
            <div class="calou-card calou-p-6 calou-mt-8">
                <h3 class="calou-section-title calou-mb-4">
                    <i data-calou-icon="dashboard" data-size="sm" class="calou-icon-spaced"></i>
                    Actions Rapides
                </h3>
                <div class="calou-grid calou-grid-cols-2 calou-md-grid-cols-3 calou-gap-3">
                    <button class="calou-btn-secondary calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="calendar" data-size="sm"></i>
                        Calendrier
                    </button>
                    <button class="calou-btn-secondary calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="euro" data-size="sm"></i>
                        Paiements
                    </button>
                    <button class="calou-btn-secondary calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="broom" data-size="sm"></i>
                        M√©nage
                    </button>
                </div>
            </div>
        </div>

        <!-- Sidebar Logistique -->
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            <h2 class="calou-section-title">Logistique</h2>
            
            <div class="calou-card calou-alert calou-alert-error">
                <div style="width: 100%;">
                    <p class="calou-alert-title calou-text-error">Stocks Critiques</p>
                    <div class="calou-alert-content">
                        <div class="calou-badge calou-badge-error"></div>
                        <p class="calou-text-xs calou-font-semibold calou-m-0">Draps Villa Tr√©voux</p>
                    </div>
                    <div class="calou-alert-content calou-mt-2">
                        <div class="calou-badge calou-badge-warning"></div>
                        <p class="calou-text-xs calou-font-semibold calou-m-0">Serviettes Calvignac</p>
                    </div>
                </div>
            </div>

            <div class="calou-card calou-card-info calou-p-6">
                <p class="calou-text-sm calou-font-bold calou-mb-4">Synchronisation API</p>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <div class="calou-sync-status">
                        <span class="calou-sync-label">Airbnb</span>
                        <span class="calou-sync-value calou-sync-success">‚úì Sync</span>
                    </div>
                    <div class="calou-sync-status">
                        <span class="calou-sync-label">Booking</span>
                        <span class="calou-sync-value calou-sync-success">‚úì Sync</span>
                    </div>
                    <div class="calou-sync-status">
                        <span class="calou-sync-label">Abritel</span>
                        <span class="calou-sync-value calou-sync-pending">‚åõ En cours</span>
                    </div>
                </div>
            </div>

            <div class="calou-card calou-alert calou-alert-warning">
                <div style="width: 100%;">
                    <div class="calou-flex calou-items-center calou-gap-2 calou-mb-3">
                        <i data-calou-icon="alert" data-size="md" data-color="warning"></i>
                        <p class="calou-alert-title calou-text-warning">Alertes</p>
                    </div>
                    <p class="calou-text-xs calou-opacity-80 calou-m-0">M√©nage √† programmer pour le G√Æte Tr√©voux (sortie 28/01)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- D√©mo Ic√¥nes -->
    <div class="calou-card calou-p-6 calou-mt-12 calou-mb-12">
        <h3 class="calou-text-lg calou-font-extrabold calou-mb-6">
            <i data-calou-icon="share" data-size="lg" class="calou-icon-spaced"></i>
            D√©mo Syst√®me d'Ic√¥nes
        </h3>
        
        <div class="calou-grid calou-grid-cols-2 calou-md-grid-cols-4 calou-gap-6">
            <!-- Navigation -->
            <div>
                <p class="calou-text-xs calou-font-bold calou-mb-3 calou-uppercase calou-opacity-40">Navigation</p>
                <div class="calou-flex calou-flex-col calou-gap-3">
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="home" data-size="md"></i>
                        <span class="calou-text-sm">home</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="dashboard" data-size="md"></i>
                        <span class="calou-text-sm">dashboard</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="settings" data-size="md"></i>
                        <span class="calou-text-sm">settings</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="user" data-size="md"></i>
                        <span class="calou-text-sm">user</span>
                    </div>
                </div>
            </div>
            
            <!-- Gestion -->
            <div>
                <p class="calou-text-xs calou-font-bold calou-mb-3 calou-uppercase calou-opacity-40">Gestion</p>
                <div class="calou-flex calou-flex-col calou-gap-3">
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="calendar" data-size="md" data-color="primary"></i>
                        <span class="calou-text-sm">calendar</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="euro" data-size="md" data-color="success"></i>
                        <span class="calou-text-sm">euro</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="doc" data-size="md"></i>
                        <span class="calou-text-sm">doc</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="clock" data-size="md"></i>
                        <span class="calou-text-sm">clock</span>
                    </div>
                </div>
            </div>
            
            <!-- G√Ætes -->
            <div>
                <p class="calou-text-xs calou-font-bold calou-mb-3 calou-uppercase calou-opacity-40">G√Ætes</p>
                <div class="calou-flex calou-flex-col calou-gap-3">
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="bed" data-size="md"></i>
                        <span class="calou-text-sm">bed</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="key" data-size="md" data-color="warning"></i>
                        <span class="calou-text-sm">key</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="wifi" data-size="md" data-color="primary"></i>
                        <span class="calou-text-sm">wifi</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="parking" data-size="md"></i>
                        <span class="calou-text-sm">parking</span>
                    </div>
                </div>
            </div>
            
            <!-- Actions -->
            <div>
                <p class="calou-text-xs calou-font-bold calou-mb-3 calou-uppercase calou-opacity-40">Actions</p>
                <div class="calou-flex calou-flex-col calou-gap-3">
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="broom" data-size="md" data-color="primary"></i>
                        <span class="calou-text-sm">broom</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="check" data-size="md" data-color="success"></i>
                        <span class="calou-text-sm">check</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="alert" data-size="md" data-color="error"></i>
                        <span class="calou-text-sm">alert</span>
                    </div>
                    <div class="calou-flex calou-items-center calou-gap-2">
                        <i data-calou-icon="sync" data-size="md" class="calou-icon-spin"></i>
                        <span class="calou-text-sm">sync (spin)</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Tailles -->
        <div class="calou-mt-8">
            <p class="calou-text-xs calou-font-bold calou-mb-3 calou-uppercase calou-opacity-40">Tailles Disponibles</p>
            <div class="calou-flex calou-items-center calou-gap-6">
                <div class="calou-flex calou-flex-col calou-items-center calou-gap-2">
                    <i data-calou-icon="home" data-size="xs"></i>
                    <span class="calou-text-xs">xs (12px)</span>
                </div>
                <div class="calou-flex calou-flex-col calou-items-center calou-gap-2">
                    <i data-calou-icon="home" data-size="sm"></i>
                    <span class="calou-text-xs">sm (16px)</span>
                </div>
                <div class="calou-flex calou-flex-col calou-items-center calou-gap-2">
                    <i data-calou-icon="home" data-size="md"></i>
                    <span class="calou-text-xs">md (20px)</span>
                </div>
                <div class="calou-flex calou-flex-col calou-items-center calou-gap-2">
                    <i data-calou-icon="home" data-size="lg"></i>
                    <span class="calou-text-xs">lg (24px)</span>
                </div>
                <div class="calou-flex calou-flex-col calou-items-center calou-gap-2">
                    <i data-calou-icon="home" data-size="xl"></i>
                    <span class="calou-text-xs">xl (32px)</span>
                </div>
                <div class="calou-flex calou-flex-col calou-items-center calou-gap-2">
                    <i data-calou-icon="home" data-size="2xl"></i>
                    <span class="calou-text-xs">2xl (48px)</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Info Tech -->
    <div class="calou-card calou-p-6 calou-mt-12">
        <h3 class="calou-text-lg calou-font-extrabold calou-mb-4">
            <i data-calou-icon="settings" data-size="lg" class="calou-icon-spaced"></i>
            Informations Techniques
        </h3>
        <div class="calou-grid calou-grid-cols-1 calou-md-grid-cols-2 calou-gap-4">
            <div>
                <p class="calou-text-sm calou-opacity-60 calou-mb-2">CSS Charg√©s :</p>
                <ul class="calou-text-xs" style="margin: 0; padding-left: 1.5rem;">
                    <li>calou-core.css (Variables + Base)</li>
                    <li>calou-components.css (Composants)</li>
                    <li>calou-utilities.css (Utilitaires)</li>
                    <li>calou-icons.css (Syst√®me d'ic√¥nes)</li>
                    <li>calou-bridge.css (Compatibilit√©)</li>
                </ul>
            </div>
            <div>
                <p class="calou-text-sm calou-opacity-60 calou-mb-2">Syst√®me d'Ic√¥nes :</p>
                <ul class="calou-text-xs" style="margin: 0; padding-left: 1.5rem;">
                    <li>Sprite SVG auto-inject√©</li>
                    <li>Cache localStorage (24h)</li>
                    <li>Style Lucide/Phosphor</li>
                    <li><span id="icon-count">--</span> ic√¥nes disponibles</li>
                </ul>
                <button onclick="listIcons()" class="calou-btn-secondary calou-mt-3" style="font-size: 10px; padding: 4px 12px;">
                    <i data-calou-icon="share" data-size="xs"></i>
                    Lister les ic√¥nes
                </button>
            </div>
        </div>
    </div>
</div>

<script>
// Fonction pour activer/d√©sactiver CALOU
function toggleCalouTheme() {
    const html = document.documentElement;
    const isActive = html.classList.contains('calou-theme');
    const button = document.getElementById('theme-toggle-text');
    
    if (isActive) {
        html.classList.remove('calou-theme');
        button.textContent = 'Activer CALOU';
        // Retirer les CSS CALOU
        document.querySelectorAll('link[href*="calou"]').forEach(link => {
            link.disabled = true;
        });
        console.log('‚ùå CALOU d√©sactiv√© - Retour √† flat-outline.css');
    } else {
        html.classList.add('calou-theme');
        button.textContent = 'D√©sactiver CALOU';
        
        // Charger les CSS CALOU si pas d√©j√† fait
        if (!document.querySelector('link[href*="calou-core"]')) {
            const cssFiles = [
                'css/calou/calou-core.css',
                'css/calou/calou-components.css',
                'css/calou/calou-utilities.css',
                'css/calou/calou-icons.css',
                'css/calou-bridge.css'
            ];
            
            cssFiles.forEach(file => {
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = file;
                document.head.appendChild(link);
            });
        } else {
            // R√©activer les CSS existants
            document.querySelectorAll('link[href*="calou"]').forEach(link => {
                link.disabled = false;
            });
        }
        
        console.log('‚úÖ CALOU activ√© - Design System appliqu√©');
    }
    
    // Sauvegarder la pr√©f√©rence
    localStorage.setItem('calou-theme-enabled', !isActive);
}

// Charger la pr√©f√©rence au d√©marrage
document.addEventListener('DOMContentLoaded', () => {
    const savedPref = localStorage.getItem('calou-theme-enabled');
    if (savedPref === 'true') {
        toggleCalouTheme();
    }
    
    // Compter les ic√¥nes apr√®s un d√©lai (attendre injection)
    setTimeout(() => {
        if (window.CALOUIcons) {
            const icons = window.CALOUIcons.list();
            document.getElementById('icon-count').textContent = icons.length;
        }
    }, 1000);
});

// Lister toutes les ic√¥nes dans la console
function listIcons() {
    if (window.CALOUIcons) {
        const icons = window.CALOUIcons.list();
        console.log('üé® Ic√¥nes disponibles:', icons);
        alert(`${icons.length} ic√¥nes disponibles (voir console)`);
    } else {
        alert('Syst√®me d\'ic√¥nes non charg√©');
    }
}
</script>

<style>
/* Styles inline pour ce tab uniquement */
code {
    background: rgba(99, 102, 241, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.85em;
}
</style>
