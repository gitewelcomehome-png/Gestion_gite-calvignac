<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test R√®gles M√©nage</title>
</head>
<body style="padding: 20px; font-family: Arial, sans-serif;">
    <h1>Test du syst√®me de r√®gles de m√©nage</h1>
    
    <div style="margin: 20px 0;">
        <button onclick="testScripts()" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">
            üß™ Tester les scripts
        </button>
    </div>
    
    <div id="results" style="margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 8px; font-family: monospace;">
        Cliquez sur le bouton pour tester...
    </div>
    
    <script>
        function testScripts() {
            const results = document.getElementById('results');
            let html = '<h3>R√©sultats des tests:</h3>';
            
            // Test 1: V√©rifier window.showCleaningRulesModal
            if (typeof window.showCleaningRulesModal === 'function') {
                html += '‚úÖ showCleaningRulesModal est d√©finie<br>';
            } else {
                html += '‚ùå showCleaningRulesModal N\'EST PAS d√©finie<br>';
            }
            
            // Test 2: V√©rifier window.loadCleaningRules
            if (typeof window.loadCleaningRules === 'function') {
                html += '‚úÖ loadCleaningRules est d√©finie<br>';
            } else {
                html += '‚ùå loadCleaningRules N\'EST PAS d√©finie<br>';
            }
            
            // Test 3: V√©rifier window.supabaseClient
            if (typeof window.supabaseClient !== 'undefined') {
                html += '‚úÖ supabaseClient est disponible<br>';
            } else {
                html += '‚ùå supabaseClient N\'EST PAS disponible<br>';
            }
            
            // Test 4: Lister tous les scripts charg√©s
            html += '<br><strong>Scripts charg√©s:</strong><br>';
            const scripts = document.scripts;
            for (let i = 0; i < scripts.length; i++) {
                if (scripts[i].src.includes('cleaning-rules')) {
                    html += `‚úÖ ${scripts[i].src}<br>`;
                }
            }
            
            results.innerHTML = html;
        }
        
        // Charger les scripts n√©cessaires
        const scripts = [
            'js/shared-config.js',
            'js/cleaning-rules.js',
            'js/cleaning-rules-modal.js'
        ];
        
        scripts.forEach(src => {
            const script = document.createElement('script');
            script.src = src;
            script.onload = () => console.log(`‚úÖ ${src} charg√©`);
            script.onerror = () => console.error(`‚ùå Erreur chargement ${src}`);
            document.head.appendChild(script);
        });
    </script>
</body>
</html>
